{"version":3,"sources":["../../src/commands/whoami.ts"],"names":["action","user","UserManager","getCurrentUserAsync","silent","process","stdout","isTTY","chalk","cyan","username","log","raw","exit","program","command","alias","description","asyncAction"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,MAAf,GAAwB;AACtB,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AACR,QAAII,OAAO,CAACC,MAAR,CAAeC,KAAnB,EAA0B;AACxB,0BAAK,gBAAeC,iBAAMC,IAAN,CAAWR,IAAI,CAACS,QAAhB,CAA0B,EAA9C;AACD;;AACDC,mBAAIC,GAAJ,CAAQX,IAAI,CAACS,QAAb;AACD,GALD,MAKO;AACL,wBAAK,6BAA4BF,iBAAMC,IAAK,YAAY,kBAAxD;AACAJ,IAAAA,OAAO,CAACQ,IAAR,CAAa,CAAb;AACD;AACF;;AAEc,kBAASC,OAAT,EAA2B;AACxCA,EAAAA,OAAO,CACJC,OADH,CACW,QADX,EAEGC,KAFH,CAES,GAFT,EAGGC,WAHH,CAGe,+DAHf,EAIGC,WAJH,CAIelB,MAJf;AAKD","sourcesContent":["import { UserManager } from '@expo/xdl';\nimport chalk from 'chalk';\nimport { Command } from 'commander';\n\nimport log from '../log';\n\nasync function action() {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (process.stdout.isTTY) {\n      log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n    log.raw(user.username);\n  } else {\n    log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n\nexport default function(program: Command) {\n  program\n    .command('whoami')\n    .alias('w')\n    .description('Checks with the server and then says who you are logged in as')\n    .asyncAction(action);\n}\n"],"file":"whoami.js"}